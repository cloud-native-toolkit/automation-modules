providers:
  - name: azurerm
    source: "hashicorp/azurerm"
    variables:
      - name: subscription_id
        scope: global
      - name: client_id
        scope: global
      - name: client_secret
        scope: global
        sensitive: true
      - name: tenant_id
        scope: global
  - name: aws
    source: "hashicorp/aws"
    variables:
      - name: region
        scope: global
      - name: access_key
        scope: global
      - name: secret_key
        scope: global
        sensitive: true
  - name: ibm
    source: ibm-cloud/ibm
    variables:
      - name: ibmcloud_api_key
        scope: global
        sensitive: true
      - name: region
        scope: global
  - name: gitops
    source: cloud-native-toolkit/gitops
    dependencies:
      - id: clis
        refs:
          - source: github.com/cloud-native-toolkit/terraform-util-clis.git
      - id: gitea
        optional: true
        refs:
          - source: github.com/cloud-native-toolkit/terraform-tools-gitea.git
    variables:
      - name: bin_dir
        moduleRef:
          id: clis
          output: bin_dir
      - name: default_host
        moduleRef:
          id: gitea
          output: host
      - name: default_org
        moduleRef:
          id: gitea
          output: org
      - name: default_username
        moduleRef:
          id: gitea
          output: username
      - name: default_token
        moduleRef:
          id: gitea
          output: token
      - name: default_ca_cert
        moduleRef:
          id: gitea
          output: ca_cert
  - name: clis
    source: cloud-native-toolkit/clis
